# Load application-local.yml when profile 'local' is active (default if file exists).
# Run with SPRING_PROFILES_ACTIVE=local to load Google OAuth from application-local.yml.
spring:
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}
  application:
    name: kafka-messaging
  # Redis (for Gmail OAuth tokens and email idempotency)
  data:
    redis:
      host: localhost
      port: 6379
  kafka:
    bootstrap-servers: localhost:9092
    template:
      default-topic: orders
    consumer:
      group-id: kafka-messaging-group
      auto-offset-reset: latest
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.StringSerializer
  ai:
    google:
      genai:
        api:
          key: ${GOOGLE_API_KEY:}
          model: gemini-2.5-flash-lite

# Where to send the user after successful OAuth (frontend app URL)
app:
  frontend-url: ${APP_FRONTEND_URL:http://localhost:5173}

# Google OAuth for Gmail (set in application-local.yml or env GOOGLE_CLIENT_ID / GOOGLE_CLIENT_SECRET)
google:
  client:
    id: ${GOOGLE_CLIENT_ID:}
    secret: ${GOOGLE_CLIENT_SECRET:}
  redirect:
    uri: ${GOOGLE_REDIRECT_URI:http://localhost:8080/oauth2/callback}

logging:
  level:
    root: INFO
    org.apache.kafka: WARN
